<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="JFFAskIlP-bdTgwzNuxwj-aWY47yLZxVlSxlNX55rGE" />
    <title>Matir Kotha</title>
    <!-- Preconnects -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
<link rel="preconnect" href="https://cdn.tailwindcss.com">

<!-- Load Google Font (normal way, to avoid layout shift) -->
<link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">

<!-- Load Font Awesome (normal way, but cached via CDN) -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<!-- Tailwind (keep in head, not deferred, for consistent layout) -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        colors: {
          'brand-light': '#DDCDBB',
          'brand-dark': '#3E2723',
          'brand-accent': '#A1887F',
        }
      }
    }
  }
</script>

    <link rel="manifest" href="manifest.json">
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: "Ubuntu", sans-serif;
            background-color: #DDCDBB;
        }
        .dark body {
             background-color: #3E2723;
        }
        .hero-section {
            background-image: url('images/hero-background.jpg');
            background-size: cover;
            background-position: center top;
        }
        .carousel-button {
             background-color: rgba(255, 255, 255, 0.7);
             border-radius: 50%;
             width: 2rem;
             height: 2rem;
             display: flex;
             align-items: center;
             justify-content: center;
        }
         .carousel-button:hover {
            background-color: rgba(255, 255, 255, 1);
        }
        .dark .carousel-button {
            background-color: rgba(0, 0, 0, 0.5);
            color: #EBEDDF;
        }
        .dark .carousel-button:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }
        #cart-modal, #search-overlay {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .cart-item-quantity button {
            width: 28px;
            height: 28px;
        }
    </style>
</head>
<body class="bg-brand-light dark:bg-brand-dark text-brand-dark transition-colors duration-300">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 bg-brand-light bg-opacity-80 dark:bg-brand-dark dark:bg-opacity-60 backdrop-blur-md z-50 shadow-sm">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0">
                    <a href="#" class="text-2xl font-bold text-brand-dark dark:text-brand-light">
                        <i class="fa-solid fa-earth-americas"></i> Matir Kotha
                    </a>
                </div>
                <div class="flex items-center space-x-5">
                    <button id="theme-toggle-button" class="text-brand-dark dark:text-brand-light w-6 h-6 flex items-center justify-center text-xl">
                        <span class="sr-only">Theme</span>
                        <!-- Sun Icon -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-6 h-6 sun-icon">
  <path d="M256 128a128 128 0 1 0 0 256a128 128 0 1 0 0-256zm0-128c17.7 0 32 
  14.3 32 32V96c0 17.7-14.3 32-32 
  32s-32-14.3-32-32V32c0-17.7 14.3-32 
  32-32zm0 416c17.7 0 32 14.3 32 
  32v64c0 17.7-14.3 32-32 
  32s-32-14.3-32-32V448c0-17.7 14.3-32 
  32-32zM480 224c17.7 0 32 14.3 32 
  32s-14.3 32-32 32H416c-17.7 0-32-14.3-32-32s14.3-32 
  32-32h64zM128 256c0 17.7-14.3 32-32 
  32H32c-17.7 0-32-14.3-32-32s14.3-32 
  32-32H96c17.7 0 32 14.3 32 
  32zm282.7-169.4c12.5-12.5 32.8-12.5 
  45.3 0l45.3 45.3c12.5 12.5 12.5 32.8 
  0 45.3s-32.8 12.5-45.3 0l-45.3-45.3c-12.5-12.5-12.5-32.8 
  0-45.3zM55.4 456.6c-12.5-12.5-12.5-32.8 
  0-45.3l45.3-45.3c12.5-12.5 32.8-12.5 
  45.3 0s12.5 32.8 0 45.3l-45.3 45.3c-12.5 12.5-32.8 
  12.5-45.3 0zm0-401.2c12.5-12.5 
  32.8-12.5 45.3 0l45.3 45.3c12.5 12.5 
  12.5 32.8 0 45.3s-32.8 12.5-45.3 
  0L55.4 100.7c-12.5-12.5-12.5-32.8 
  0-45.3zm401.2 401.2c-12.5 12.5-32.8 
  12.5-45.3 0l-45.3-45.3c-12.5-12.5-12.5-32.8 
  0-45.3s32.8-12.5 45.3 
  0l45.3 45.3c12.5 12.5 12.5 32.8 
  0 45.3z"/>
</svg>

<!-- Moon Icon -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="w-6 h-6 moon-icon hidden"><path d="M320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576C388.8 576 451.3 548.8 497.3 504.6C504.6 497.6 506.7 486.7 502.6 477.5C498.5 468.3 488.9 462.6 478.8 463.4C473.9 463.8 469 464 464 464C362.4 464 280 381.6 280 280C280 207.9 321.5 145.4 382.1 115.2C391.2 110.7 396.4 100.9 395.2 90.8C394 80.7 386.6 72.5 376.7 70.3C358.4 66.2 339.4 64 320 64z"/></svg>
                    </button>
                    <button id="search-button" class="text-brand-dark dark:text-brand-light hover:text-gray-900 dark:hover:text-white">
                        <span class="sr-only">Search</span>
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </button>
                    <button id="cart-button" class="text-brand-dark dark:text-brand-light hover:text-gray-900 dark:hover:text-white relative">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        <span id="cart-count" class="absolute -top-2 -right-2 bg-brand-dark text-brand-light dark:bg-brand-light dark:text-brand-dark text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Search Overlay -->
    <div id="search-overlay" class="hidden fixed inset-0 bg-black bg-opacity-50 z-40 pt-20">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <input type="text" id="search-input" placeholder="Search for products..." class="w-full p-4 text-lg rounded-md shadow-lg focus:outline-none focus:ring-2 focus:ring-brand-dark dark:focus:ring-brand-light bg-brand-light dark:bg-gray-800 dark:text-brand-light">
        </div>
    </div>


    <main>
        <!-- Hero Section -->
        <section class="hero-section h-screen flex items-center justify-center text-white pt-20">
            <div class="bg-black bg-opacity-50 p-12 rounded-lg text-center backdrop-blur-sm max-w-4xl mx-4">
                <h1 class="text-4xl sm:text-5xl md:text-7xl font-black mb-4 leading-tight">Beyond Performance. <br> Into The Future.</h1>
                <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto">Discover our new collection, engineered for the modern athlete. Uncompromised style, unparalleled comfort.</p>
                <div class="flex justify-center space-x-4">
                    <button id="shop-now-button" class="bg-white bg-opacity-20 hover:bg-brand-dark text-white font-bold py-3 px-8 rounded-lg transition duration-300 border border-white hover:border-brand-dark dark:hover:bg-brand-light dark:hover:border-brand-light dark:hover:text-brand-dark group">
                        Shop Now <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-4 h-4 ml-2 group-hover:transform group-hover:translate-x-2 transition duration-300">
  <path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h370.7l-105.4 105.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/>
</svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Latest Drops Section -->
        <section id="products-section" class="py-20 bg-transparent dark:bg-black dark:bg-opacity-20">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold text-center text-brand-dark dark:text-brand-light mb-4">Our Products</h2>
                <p class="text-center text-gray-700 dark:text-gray-300 mb-12">Explore our collection of high-performance footwear.</p>
                <div id="latest-drops" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <!-- Product cards will be injected here -->
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-brand-dark text-white dark:bg-brand-dark">
        <div class="container mx-auto py-16 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8">
                <div class="col-span-2 md:col-span-4 lg:col-span-1">
                    <h3 class="text-xl font-bold mb-4"><i class="fa-solid fa-earth-americas"></i> Matir Kotha</h3>
                    <p class="text-gray-300">Elevate your every step.</p>
                </div>
                <div>
                    <h4 class="font-semibold text-lg mb-4">PRODUCTS</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white">Running</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Lifestyle</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Trail</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Classics</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-lg mb-4">SUPPORT</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white">Contact Us</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Shipping</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Returns</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-lg mb-4">COMPANY</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-300 hover:text-white">About Us</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Careers</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white">Press</a></li>
                    </ul>
                </div>
                 <div class="col-span-2 md:col-span-1">
                    <h4 class="font-semibold text-lg mb-4">FOLLOW US</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-white" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-300 hover:text-white" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-300 hover:text-white" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-300 hover:text-white" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-12 border-t border-gray-600 pt-8 text-center text-gray-400">
                <p>&copy; 2025 Matir Kotha. All Rights Reserved.</p>
            </div>
        </div>
    </footer>


    <!-- Cart Modal -->
    <div id="cart-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end">
        <div class="bg-brand-light dark:bg-[#4E342E] w-full md:w-1/2 lg:w-1/3 h-full shadow-lg flex flex-col">
            <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
                <h2 class="text-2xl font-bold text-brand-dark dark:text-brand-light">Your Cart</h2>
                <button id="close-cart-button" class="text-brand-dark dark:text-brand-light text-2xl font-bold">&times;</button>
            </div>
            <div id="cart-items" class="flex-grow p-6 overflow-y-auto">
                <!-- Cart items will be injected here -->
                <p class="text-gray-500 dark:text-gray-400">Your cart is empty.</p>
            </div>
            <div class="p-6 border-t border-gray-200 dark:border-gray-700">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-xl font-medium text-brand-dark dark:text-brand-light">Subtotal</span>
                    <span id="cart-subtotal" class="text-2xl font-bold text-brand-dark dark:text-brand-light">$0.00</span>
                </div>
                <button class="w-full bg-brand-dark hover:bg-opacity-90 text-white dark:bg-brand-accent dark:text-white dark:hover:bg-opacity-90 font-bold py-3 rounded-lg transition duration-300">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>


    <script>
        const products = [
             {
                id: 1,
                name: 'Gents T-Shirt',
                description: 'Premium cotton t-shirt with a clean silhouette, superior comfort, timeless versatility.',
                price: 130.00,
                images: [
                    'images/t-shirt-1.jpeg',
                    'images/t-shirt-2.jpeg',
                    'images/t-shirt-3.jpeg'
                ]
            },
            {
                id: 2,
                name: 'Velocity-Edge Runner',
                description: 'Engineered for speed, this shoe offers maximum energy return and a propulsive feel.',
                price: 155.00,
                images: [
                    'images/velocity-edge-runner/1.jpg',
                    'images/velocity-edge-runner/2.jpg',
                    'images/velocity-edge-runner/3.jpg'
                ]
            },
            {
                id: 3,
                name: 'Zenith-Stride Lo',
                description: 'A minimalist sneaker that combines everyday comfort with a sleek, modern aesthetic.',
                price: 110.00,
                images: [
                    'images/zenith-stride-lo/1.jpg',
                    'images/zenith-stride-lo/2.jpg',
                    'images/zenith-stride-lo/3.jpg'
                ]
            },
             {
                id: 4,
                name: 'Apex-Trail XT',
                description: 'Conquer any terrain with this rugged trail shoe, featuring superior grip and stability.',
                price: 140.00,
                images: [
                    'images/apex-trail-xt/1.jpg',
                    'images/apex-trail-xt/2.jpg',
                    'images/apex-trail-xt/3.jpg'
                ]
            },
            {
                id: 5,
                name: 'React-Charge Pro',
                description: 'Dominate the court with explosive responsiveness and a locked-in, supportive fit.',
                price: 180.00,
                images: [
                    'images/react-charge-pro/1.jpg',
                    'images/react-charge-pro/2.jpg',
                    'images/react-charge-pro/3.jpg'
                ]
            },
            {
                id: 6,
                name: 'Heritage-Court Classic',
                description: 'A timeless silhouette, crafted from premium materials for a sophisticated look and feel.',
                price: 125.00,
                images: [
                    'images/heritage-court-classic/1.jpg',
                    'images/heritage-court-classic/2.jpg',
                    'images/heritage-court-classic/3.jpg'
                ]
            }
        ];

        let cart = [];
        const latestDropsContainer = document.getElementById('latest-drops');

        function createProductCard(product) {
            return `
                <div class="product-card bg-white/50 dark:bg-gray-800/50 rounded-lg shadow-md overflow-hidden group backdrop-blur-sm">
                    <div class="relative overflow-hidden">
                        <div class="flex transition-transform duration-300 ease-in-out" id="carousel-${product.id}">
                            ${product.images.map(image => `
                                <img src="${image}" alt="${product.name}" class="w-full h-80 object-cover flex-shrink-0">
                            `).join('')}
                        </div>
                        <div class="carousel-buttons absolute inset-0 flex items-center justify-between px-4">
                            <button onclick="prevImage(${product.id})" class="carousel-button text-gray-800 hover:text-black">
                            <span class="sr-only">Prev Image</span>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button onclick="nextImage(${product.id})" class="carousel-button text-gray-800 hover:text-black">
                            <span class="sr-only">Next Image</span>
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-6 relative">
                        <h3 class="text-xl font-bold text-brand-dark dark:text-brand-light mb-2">${product.name}</h3>
                        <p class="text-gray-500 dark:text-gray-400 mb-8 h-12">${product.description}</p>
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-brand-dark dark:text-brand-light">$${product.price.toFixed(2)}</span>
                            <div class="add-to-cart-button-container">
                                 <button onclick="addToCart(${product.id})" class="bg-brand-dark text-white py-2 px-5 rounded-lg font-semibold hover:bg-opacity-90 dark:bg-brand-accent dark:text-white dark:hover:bg-opacity-90 transition-colors duration-300 flex items-center">
                                    <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }
        
        function renderProducts(filter = '') {
            const filteredProducts = products.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()));
            latestDropsContainer.innerHTML = '';
            
            if (filteredProducts.length === 0) {
                latestDropsContainer.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 col-span-3">No products found matching your search.</p>';
                return;
            }

            filteredProducts.forEach(product => latestDropsContainer.innerHTML += createProductCard(product));
        }


        // Cart functions
        const cartModal = document.getElementById('cart-modal');
        const cartButton = document.getElementById('cart-button');
        const closeCartButton = document.getElementById('close-cart-button');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartCount = document.getElementById('cart-count');
        const cartSubtotal = document.getElementById('cart-subtotal');

        function saveCart() {
            localStorage.setItem('matirKothaCart', JSON.stringify(cart));
        }

        function loadCart() {
            const storedCart = localStorage.getItem('matirKothaCart');
            if (storedCart) {
                cart = JSON.parse(storedCart);
            }
        }
        
        function toggleCart() {
            cartModal.classList.toggle('hidden');
        }

        cartButton.addEventListener('click', toggleCart);
        closeCartButton.addEventListener('click', toggleCart);
        
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            saveCart();
            renderCart();
        }

        function updateQuantity(productId, newQuantity) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                if (newQuantity > 0) {
                    item.quantity = newQuantity;
                } else {
                    cart = cart.filter(cartItem => cartItem.id !== productId);
                }
            }
            saveCart();
            renderCart();
        }
        
        function renderCart() {
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-gray-500 dark:text-gray-400">Your cart is empty.</p>';
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="flex items-center justify-between mb-4 border-b pb-4 border-gray-200 dark:border-gray-700">
                        <img src="${item.images[0]}" alt="${item.name}" class="w-20 h-20 object-cover rounded-md">
                        <div class="flex-grow mx-4">
                            <p class="font-bold text-brand-dark dark:text-brand-light">${item.name}</p>
                            <p class="text-gray-600 dark:text-gray-400">$${item.price.toFixed(2)}</p>
                        </div>
                        <div class="flex items-center">
                            <div class="cart-item-quantity flex items-center border rounded border-gray-300 dark:border-gray-600">
                                <button onclick="updateQuantity(${item.id}, ${item.quantity - 1})" class="text-brand-dark dark:text-brand-light hover:bg-gray-100 dark:hover:bg-gray-700">-</button>
                                <span class="px-3 text-brand-dark dark:text-brand-light">${item.quantity}</span>
                                <button onclick="updateQuantity(${item.id}, ${item.quantity + 1})" class="text-brand-dark dark:text-brand-light hover:bg-gray-100 dark:hover:bg-gray-700">+</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
            
            cartCount.textContent = totalItems;
            cartSubtotal.textContent = `$${subtotal.toFixed(2)}`;
        }

        // Search functions
        const searchButton = document.getElementById('search-button');
        const searchOverlay = document.getElementById('search-overlay');
        const searchInput = document.getElementById('search-input');

        searchButton.addEventListener('click', () => {
            searchOverlay.classList.toggle('hidden');
            if (!searchOverlay.classList.contains('hidden')) {
                searchInput.focus();
            }
        });
        
        searchInput.addEventListener('input', (e) => {
            renderProducts(e.target.value);
        });


        // Theme toggle
        const themeToggleButton = document.getElementById('theme-toggle-button');
        const sunIcon = document.querySelector('.sun-icon');
        const moonIcon = document.querySelector('.moon-icon');
        const htmlEl = document.documentElement;

        function updateThemeIcons() {
            if (htmlEl.classList.contains('dark')) {
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            } else {
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            }
        }

        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
          htmlEl.classList.add('dark');
        } else {
          htmlEl.classList.remove('dark');
        }
        updateThemeIcons();

        themeToggleButton.addEventListener('click', () => {
            htmlEl.classList.toggle('dark');
            if (htmlEl.classList.contains('dark')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
            updateThemeIcons();
        });
        
        // Shop Now Scroll
        const shopNowButton = document.getElementById('shop-now-button');
        const productsSection = document.getElementById('products-section');
        
        shopNowButton.addEventListener('click', () => {
            productsSection.scrollIntoView();
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed: ', error);
                    });
            });
        }


        // Initial Render
        let currentImageIndices = {};
        products.forEach(p => currentImageIndices[p.id] = 0);

        function updateCarousel(productId) {
            const carousel = document.getElementById(`carousel-${productId}`);
            if (carousel) {
                const offset = -currentImageIndices[productId] * 100;
                carousel.style.transform = `translateX(${offset}%)`;
            }
        }

        function nextImage(productId) {
            const product = products.find(p => p.id === productId);
            currentImageIndices[productId] = (currentImageIndices[productId] + 1) % product.images.length;
            updateCarousel(productId);
        }

        function prevImage(productId) {
            const product = products.find(p => p.id === productId);
            currentImageIndices[productId] = (currentImageIndices[productId] - 1 + product.images.length) % product.images.length;
            updateCarousel(productId);
        }

        loadCart();
        renderProducts();
        renderCart();

    </script>
</body>
</html>

